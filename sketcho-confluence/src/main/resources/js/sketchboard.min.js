var sketchboard=function(){function t(t){for(var n=[],i=null,e=1;e-1>=0&&e+1<t.length;++e){var s=t[e+1],h=t[e-1],u=s.subtract(t[e]),a=h.subtract(t[e]),o=u.getLength(),g=a.getLength();if(o>0&&g>0){var c=g/o,y=u.multiply(c).subtract(a).normalize(),l=y.negate().multiply(g/3),f=y.multiply(o/3);l=l.add(t[e]),f=f.add(t[e]),1==e?n.push(new r(h,t[e],h,l)):n.push(new r(h,t[e],i,l)),i=f}}return t.length-2<t.length&&n.push(new r(t[t.length-2],t[t.length-1],i,t[t.length-1])),n}function n(t){for(var n="M",i=0;i<t.length;++i)0==i?(n+=t[i].p1.x+","+t[i].p1.y,n+=" C"):n+=" ",n+=t[i].cp1.x+","+t[i].cp1.y+" ",n+=t[i].cp2.x+","+t[i].cp2.y+" ",n+=t[i].p2.x+","+t[i].p2.y;return n}function i(t){for(var n=[],i=0;i<t.length;i+=2){var e=new s(t[i+0],t[i+1]);n.push(e)}return n}var e={},r=function(t,n,i,e){this.p1=t,this.p2=n,this.cp1=i,this.cp2=e},s=function(t,n){this.x=t,this.y=n,this.read=function(){var t=arguments[0];return t.length>0&&t[0]instanceof s?t[0]:t.length>0&&"number"==typeof t[0]?new s(t[0],t[0]):void 0},this.subtract=function(){var t=this.read(arguments);return new s(this.x-t.x,this.y-t.y)},this.toString=function(){return"{ x: "+this.x+", y: "+this.y+" }"},this.add=function(){var t=this.read(arguments);return new s(this.x+t.x,this.y+t.y)},this.multiply=function(){var t=this.read(arguments);return new s(this.x*t.x,this.y*t.y)},this.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.normalize=function(t){void 0===t&&(t=1);var n=this.getLength(),i=0!==n?t/n:0,e=new s(this.x*i,this.y*i);return e},this.negate=function(){return new s(-this.x,-this.y)},this.equals=function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1}};return e.Segment=r,e.Point=s,e.smoothPointsToSegments=t,e.segmentsToPath=n,e.toPoints=i,e}();